<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TP_Actionneur_Delsanti_Dellaseta: TP_systeme_actionneurs/Core/Src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TP_Actionneur_Delsanti_Dellaseta
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b6a8f8b7759303510860b20292763cdc.html">TP_systeme_actionneurs</a></li><li class="navelem"><a class="el" href="dir_79ef7f6f153fb0aa21746b7af78d2855.html">Core</a></li><li class="navelem"><a class="el" href="dir_975f3f4a70592307392a3893cbba41ba.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>: Main program body  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="adc_8h_source.html">adc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tim_8h_source.html">tim.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usart_8h_source.html">usart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a05f5d709605c6317c97e4974bec3402a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a05f5d709605c6317c97e4974bec3402a">UART_TX_BUFFER_SIZE</a>&#160;&#160;&#160;300</td></tr>
<tr class="memdesc:a05f5d709605c6317c97e4974bec3402a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Taille du buffer d'écriture pour afficher des caractères sur le shell.  <a href="main_8c.html#a05f5d709605c6317c97e4974bec3402a">More...</a><br /></td></tr>
<tr class="separator:a05f5d709605c6317c97e4974bec3402a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdd6772c246436bb14377095de79b31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5bdd6772c246436bb14377095de79b31">UART_RX_BUFFER_SIZE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a5bdd6772c246436bb14377095de79b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Taille du buffer de lecture des caractères entrés dans le shell.  <a href="main_8c.html#a5bdd6772c246436bb14377095de79b31">More...</a><br /></td></tr>
<tr class="separator:a5bdd6772c246436bb14377095de79b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0465f8e8bbe71e4d6e8011e975bf75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8a0465f8e8bbe71e4d6e8011e975bf75">CMD_BUFFER_SIZE</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a8a0465f8e8bbe71e4d6e8011e975bf75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Taille du buffer pour lancer des fonctions dans shell.  <a href="main_8c.html#a8a0465f8e8bbe71e4d6e8011e975bf75">More...</a><br /></td></tr>
<tr class="separator:a8a0465f8e8bbe71e4d6e8011e975bf75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>&#160;&#160;&#160;9</td></tr>
<tr class="memdesc:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nombre maximum d'arguments pour une fonction shell.  <a href="main_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">More...</a><br /></td></tr>
<tr class="separator:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5bb417387aec742b1a70f9ef784d1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5b5bb417387aec742b1a70f9ef784d1c">MAX_SPEED_VALUE</a>&#160;&#160;&#160;5312</td></tr>
<tr class="memdesc:a5b5bb417387aec742b1a70f9ef784d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vitesse maximale dans le sens positif, en nombre de tick de timer.  <a href="main_8c.html#a5b5bb417387aec742b1a70f9ef784d1c">More...</a><br /></td></tr>
<tr class="separator:a5b5bb417387aec742b1a70f9ef784d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185b4dd6ffe8f2446d26cde1a059f740"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a185b4dd6ffe8f2446d26cde1a059f740">MAX_PULSE</a>&#160;&#160;&#160;5312</td></tr>
<tr class="memdesc:a185b4dd6ffe8f2446d26cde1a059f740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valeur maximum des CCR du timer générant les PWM du moteur.  <a href="main_8c.html#a185b4dd6ffe8f2446d26cde1a059f740">More...</a><br /></td></tr>
<tr class="separator:a185b4dd6ffe8f2446d26cde1a059f740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3b498f5936dbe4f3076a47c3e1810d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aca3b498f5936dbe4f3076a47c3e1810d">ASCII_LF</a>&#160;&#160;&#160;0x0A</td></tr>
<tr class="memdesc:aca3b498f5936dbe4f3076a47c3e1810d"><td class="mdescLeft">&#160;</td><td class="mdescRight">LF = line feed, saut de ligne.  <a href="main_8c.html#aca3b498f5936dbe4f3076a47c3e1810d">More...</a><br /></td></tr>
<tr class="separator:aca3b498f5936dbe4f3076a47c3e1810d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089ed4925403ab02a05e603967c74579"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a089ed4925403ab02a05e603967c74579">ASCII_CR</a>&#160;&#160;&#160;0x0D</td></tr>
<tr class="memdesc:a089ed4925403ab02a05e603967c74579"><td class="mdescLeft">&#160;</td><td class="mdescRight">CR = carriage return, retour chariot.  <a href="main_8c.html#a089ed4925403ab02a05e603967c74579">More...</a><br /></td></tr>
<tr class="separator:a089ed4925403ab02a05e603967c74579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb28e223b7c203113dc8c0387d43b36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3bb28e223b7c203113dc8c0387d43b36">ASCII_DEL</a>&#160;&#160;&#160;0x7F</td></tr>
<tr class="memdesc:a3bb28e223b7c203113dc8c0387d43b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEL = delete.  <a href="main_8c.html#a3bb28e223b7c203113dc8c0387d43b36">More...</a><br /></td></tr>
<tr class="separator:a3bb28e223b7c203113dc8c0387d43b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70af21c671abfcc773614a9a4f63d920"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a70af21c671abfcc773614a9a4f63d920">SystemClock_Config</a> (void)</td></tr>
<tr class="memdesc:a70af21c671abfcc773614a9a4f63d920"><td class="mdescLeft">&#160;</td><td class="mdescRight">System Clock Configuration.  <a href="main_8c.html#a70af21c671abfcc773614a9a4f63d920">More...</a><br /></td></tr>
<tr class="separator:a70af21c671abfcc773614a9a4f63d920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a2401a35ddd9bd0b8fc28331b81381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a77a2401a35ddd9bd0b8fc28331b81381">HAL_TIM_IC_CaptureCallback</a> (TIM_HandleTypeDef *htim)</td></tr>
<tr class="memdesc:a77a2401a35ddd9bd0b8fc28331b81381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction de callback pour la gestion de la détection d'un front sur le signal du channel. Permet le calcul des temps haut et bas de la phase Red.  <a href="main_8c.html#a77a2401a35ddd9bd0b8fc28331b81381">More...</a><br /></td></tr>
<tr class="separator:a77a2401a35ddd9bd0b8fc28331b81381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The application entry point.  <a href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae494a9643f29b87d6d81e5264e60e57b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae494a9643f29b87d6d81e5264e60e57b">HAL_UART_RxCpltCallback</a> (UART_HandleTypeDef *huart)</td></tr>
<tr class="separator:ae494a9643f29b87d6d81e5264e60e57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1730ffe1e560465665eb47d9264826f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1730ffe1e560465665eb47d9264826f9">Error_Handler</a> (void)</td></tr>
<tr class="memdesc:a1730ffe1e560465665eb47d9264826f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed in case of error occurrence.  <a href="main_8c.html#a1730ffe1e560465665eb47d9264826f9">More...</a><br /></td></tr>
<tr class="separator:a1730ffe1e560465665eb47d9264826f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a515bf1cd87d77989c9d9414bfe58f886"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a515bf1cd87d77989c9d9414bfe58f886">ADCmeasuring</a> = 1</td></tr>
<tr class="memdesc:a515bf1cd87d77989c9d9414bfe58f886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag pour le controle de l'ADC. =1 -&gt; l'ADC est en cours de mesure.  <a href="main_8c.html#a515bf1cd87d77989c9d9414bfe58f886">More...</a><br /></td></tr>
<tr class="separator:a515bf1cd87d77989c9d9414bfe58f886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b893859891afe33d4bba72ba06fd381"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8b893859891afe33d4bba72ba06fd381">prompt</a> [] =&quot;\r\nuser@Nucleo-STM32G431&gt;&gt;&quot;</td></tr>
<tr class="memdesc:a8b893859891afe33d4bba72ba06fd381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message de shell pour l'invite d'une commande.  <a href="main_8c.html#a8b893859891afe33d4bba72ba06fd381">More...</a><br /></td></tr>
<tr class="separator:a8b893859891afe33d4bba72ba06fd381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a835573497a60b314a9bf5a6fcac9602a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a835573497a60b314a9bf5a6fcac9602a">started</a> []</td></tr>
<tr class="memdesc:a835573497a60b314a9bf5a6fcac9602a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message de démarage du shell.  <a href="main_8c.html#a835573497a60b314a9bf5a6fcac9602a">More...</a><br /></td></tr>
<tr class="separator:a835573497a60b314a9bf5a6fcac9602a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a2c452a5e7053154e9f49a4cad4e98"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a98a2c452a5e7053154e9f49a4cad4e98">newline</a> [] =&quot;\r\n&quot;</td></tr>
<tr class="memdesc:a98a2c452a5e7053154e9f49a4cad4e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combinaison de caractères pour le saut de ligne.  <a href="main_8c.html#a98a2c452a5e7053154e9f49a4cad4e98">More...</a><br /></td></tr>
<tr class="separator:a98a2c452a5e7053154e9f49a4cad4e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25205e7c6d817620c1d9f7351a817a04"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a25205e7c6d817620c1d9f7351a817a04">cmdNotFound</a> [] =&quot;Command not found\r\n&quot;</td></tr>
<tr class="memdesc:a25205e7c6d817620c1d9f7351a817a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message d'erreure pour les fonctions shell non reconnues.  <a href="main_8c.html#a25205e7c6d817620c1d9f7351a817a04">More...</a><br /></td></tr>
<tr class="separator:a25205e7c6d817620c1d9f7351a817a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8a518124b90c249458a5b30ab36c52"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9d8a518124b90c249458a5b30ab36c52">uartRxReceived</a></td></tr>
<tr class="memdesc:a9d8a518124b90c249458a5b30ab36c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag mis à 1 à la réception d'un caractère sur la liaison UART.  <a href="main_8c.html#a9d8a518124b90c249458a5b30ab36c52">More...</a><br /></td></tr>
<tr class="separator:a9d8a518124b90c249458a5b30ab36c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2542ac6d4440b9e1c4a6435c55c79df3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2542ac6d4440b9e1c4a6435c55c79df3">uartRxBuffer</a> [<a class="el" href="main_8c.html#a5bdd6772c246436bb14377095de79b31">UART_RX_BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a2542ac6d4440b9e1c4a6435c55c79df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer de caractères pour la réception de données via l'UART.  <a href="main_8c.html#a2542ac6d4440b9e1c4a6435c55c79df3">More...</a><br /></td></tr>
<tr class="separator:a2542ac6d4440b9e1c4a6435c55c79df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f98e2db2fa0d8f0cfd87b887576207f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3f98e2db2fa0d8f0cfd87b887576207f">uartTxBuffer</a> [<a class="el" href="main_8c.html#a05f5d709605c6317c97e4974bec3402a">UART_TX_BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a3f98e2db2fa0d8f0cfd87b887576207f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer de caractères pour l'envoi de données via l'UART.  <a href="main_8c.html#a3f98e2db2fa0d8f0cfd87b887576207f">More...</a><br /></td></tr>
<tr class="separator:a3f98e2db2fa0d8f0cfd87b887576207f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2315b6de98ed8d7c3654da986d2a0e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3b2315b6de98ed8d7c3654da986d2a0e">commandList</a> []</td></tr>
<tr class="memdesc:a3b2315b6de98ed8d7c3654da986d2a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message d'affichage de la liste des commandes du shell.  <a href="main_8c.html#a3b2315b6de98ed8d7c3654da986d2a0e">More...</a><br /></td></tr>
<tr class="separator:a3b2315b6de98ed8d7c3654da986d2a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e309040b32e65b84b901684e4322808"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6e309040b32e65b84b901684e4322808">pinList</a> []</td></tr>
<tr class="memdesc:a6e309040b32e65b84b901684e4322808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message d'affichage pour la liste des pins et leur équivalent sur le hacheur.  <a href="main_8c.html#a6e309040b32e65b84b901684e4322808">More...</a><br /></td></tr>
<tr class="separator:a6e309040b32e65b84b901684e4322808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92fe315f431ba20b4268e3ad5ab7c3c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae92fe315f431ba20b4268e3ad5ab7c3c">redPhasePeriod1</a> = 0</td></tr>
<tr class="memdesc:ae92fe315f431ba20b4268e3ad5ab7c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">temps haut et temps bas (indéterminé) de la phase Red en tick de HCLK  <a href="main_8c.html#ae92fe315f431ba20b4268e3ad5ab7c3c">More...</a><br /></td></tr>
<tr class="separator:ae92fe315f431ba20b4268e3ad5ab7c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7c86076c8a225c26e2a15471ea90c5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5c7c86076c8a225c26e2a15471ea90c5">redPhasePeriod2</a> = 0</td></tr>
<tr class="separator:a5c7c86076c8a225c26e2a15471ea90c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411668fe47e3a51200cccec5d8e407c4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a411668fe47e3a51200cccec5d8e407c4">memtim2CCR</a> = 0</td></tr>
<tr class="memdesc:a411668fe47e3a51200cccec5d8e407c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sauvegarde de la dernière valeur du CCR pour la mesure de temps.  <a href="main_8c.html#a411668fe47e3a51200cccec5d8e407c4">More...</a><br /></td></tr>
<tr class="separator:a411668fe47e3a51200cccec5d8e407c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >: Main program body </p>
<dl class="section author"><dt>Authors</dt><dd>: Fabien DELSANTI, Mikael DELLA SETA </dd></dl>
<dl class="section version"><dt>Version</dt><dd>: final </dd></dl>
<dl class="section date"><dt>Date</dt><dd>: 25 novembre 2022</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2022 STMicroelectronics. All rights reserved.</p>
<p >This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a089ed4925403ab02a05e603967c74579" name="a089ed4925403ab02a05e603967c74579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089ed4925403ab02a05e603967c74579">&#9670;&#160;</a></span>ASCII_CR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASCII_CR&#160;&#160;&#160;0x0D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CR = carriage return, retour chariot. </p>

</div>
</div>
<a id="a3bb28e223b7c203113dc8c0387d43b36" name="a3bb28e223b7c203113dc8c0387d43b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb28e223b7c203113dc8c0387d43b36">&#9670;&#160;</a></span>ASCII_DEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASCII_DEL&#160;&#160;&#160;0x7F</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DEL = delete. </p>

</div>
</div>
<a id="aca3b498f5936dbe4f3076a47c3e1810d" name="aca3b498f5936dbe4f3076a47c3e1810d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3b498f5936dbe4f3076a47c3e1810d">&#9670;&#160;</a></span>ASCII_LF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASCII_LF&#160;&#160;&#160;0x0A</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LF = line feed, saut de ligne. </p>

</div>
</div>
<a id="a8a0465f8e8bbe71e4d6e8011e975bf75" name="a8a0465f8e8bbe71e4d6e8011e975bf75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0465f8e8bbe71e4d6e8011e975bf75">&#9670;&#160;</a></span>CMD_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_BUFFER_SIZE&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Taille du buffer pour lancer des fonctions dans shell. </p>

</div>
</div>
<a id="a29b7451465deac204c5f7cb1f9c6e1fc" name="a29b7451465deac204c5f7cb1f9c6e1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b7451465deac204c5f7cb1f9c6e1fc">&#9670;&#160;</a></span>MAX_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ARGS&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Nombre maximum d'arguments pour une fonction shell. </p>

</div>
</div>
<a id="a185b4dd6ffe8f2446d26cde1a059f740" name="a185b4dd6ffe8f2446d26cde1a059f740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185b4dd6ffe8f2446d26cde1a059f740">&#9670;&#160;</a></span>MAX_PULSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PULSE&#160;&#160;&#160;5312</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valeur maximum des CCR du timer générant les PWM du moteur. </p>

</div>
</div>
<a id="a5b5bb417387aec742b1a70f9ef784d1c" name="a5b5bb417387aec742b1a70f9ef784d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5bb417387aec742b1a70f9ef784d1c">&#9670;&#160;</a></span>MAX_SPEED_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SPEED_VALUE&#160;&#160;&#160;5312</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vitesse maximale dans le sens positif, en nombre de tick de timer. </p>

</div>
</div>
<a id="a5bdd6772c246436bb14377095de79b31" name="a5bdd6772c246436bb14377095de79b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bdd6772c246436bb14377095de79b31">&#9670;&#160;</a></span>UART_RX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_RX_BUFFER_SIZE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Taille du buffer de lecture des caractères entrés dans le shell. </p>

</div>
</div>
<a id="a05f5d709605c6317c97e4974bec3402a" name="a05f5d709605c6317c97e4974bec3402a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f5d709605c6317c97e4974bec3402a">&#9670;&#160;</a></span>UART_TX_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_TX_BUFFER_SIZE&#160;&#160;&#160;300</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Taille du buffer d'écriture pour afficher des caractères sur le shell. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1730ffe1e560465665eb47d9264826f9" name="a1730ffe1e560465665eb47d9264826f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1730ffe1e560465665eb47d9264826f9">&#9670;&#160;</a></span>Error_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Error_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed in case of error occurrence. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77a2401a35ddd9bd0b8fc28331b81381" name="a77a2401a35ddd9bd0b8fc28331b81381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a2401a35ddd9bd0b8fc28331b81381">&#9670;&#160;</a></span>HAL_TIM_IC_CaptureCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_TIM_IC_CaptureCallback </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>htim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction de callback pour la gestion de la détection d'un front sur le signal du channel. Permet le calcul des temps haut et bas de la phase Red. </p>

</div>
</div>
<a id="ae494a9643f29b87d6d81e5264e60e57b" name="ae494a9643f29b87d6d81e5264e60e57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae494a9643f29b87d6d81e5264e60e57b">&#9670;&#160;</a></span>HAL_UART_RxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_UART_RxCpltCallback </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>huart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The application entry point. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>erreur de sortie de la main </td></tr>
  </table>
  </dd>
</dl>
<p >. Nouvelle ligne, instruction à traiter</p>
<p >Suppression du dernier caractère</p>
<p >Nouveau caractère</p>
<p >Showing commands</p>
<p >Showing pinouts</p>
<p >Switching the LED on or off</p>
<p >Starting the motor</p>
<p >Stopping the motor</p>
<p >Setting the speed of the motor</p>
<p >Getting the current's value</p>
<p >Getting measured speed</p>
<p >Command not found</p>

</div>
</div>
<a id="a70af21c671abfcc773614a9a4f63d920" name="a70af21c671abfcc773614a9a4f63d920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70af21c671abfcc773614a9a4f63d920">&#9670;&#160;</a></span>SystemClock_Config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemClock_Config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System Clock Configuration. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p >Configure the main internal regulator output voltage</p>
<p >Initializes the RCC Oscillators according to the specified parameters in the RCC_OscInitTypeDef structure.</p>
<p >Initializes the CPU, AHB and APB buses clocks</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a515bf1cd87d77989c9d9414bfe58f886" name="a515bf1cd87d77989c9d9414bfe58f886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a515bf1cd87d77989c9d9414bfe58f886">&#9670;&#160;</a></span>ADCmeasuring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADCmeasuring = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag pour le controle de l'ADC. =1 -&gt; l'ADC est en cours de mesure. </p>

</div>
</div>
<a id="a25205e7c6d817620c1d9f7351a817a04" name="a25205e7c6d817620c1d9f7351a817a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25205e7c6d817620c1d9f7351a817a04">&#9670;&#160;</a></span>cmdNotFound</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cmdNotFound[] =&quot;Command not found\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message d'erreure pour les fonctions shell non reconnues. </p>

</div>
</div>
<a id="a3b2315b6de98ed8d7c3654da986d2a0e" name="a3b2315b6de98ed8d7c3654da986d2a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b2315b6de98ed8d7c3654da986d2a0e">&#9670;&#160;</a></span>commandList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t commandList[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        <span class="stringliteral">&quot;\r\nhelp:      affiche cette liste&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\npinout:    affiche toutes les broches utilisées&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nstart:     allume l&#39;étage de puissance du moteur&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nstop:      éteind l&#39;étage de puissance du moteur&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="stringliteral">&quot;\r\nset PA5:   allume ou éteint la LED de la carte en fonction de l&#39;argument 0 ou 1&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nspeed=:    change la commande de vitesse du moteur&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nADC?:      lance une mesure de courant&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nrealSpeed: affiche la vitesse mesurée&quot;</span></div>
</div><!-- fragment -->
<p>Message d'affichage de la liste des commandes du shell. </p>

</div>
</div>
<a id="a411668fe47e3a51200cccec5d8e407c4" name="a411668fe47e3a51200cccec5d8e407c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411668fe47e3a51200cccec5d8e407c4">&#9670;&#160;</a></span>memtim2CCR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t memtim2CCR = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sauvegarde de la dernière valeur du CCR pour la mesure de temps. </p>

</div>
</div>
<a id="a98a2c452a5e7053154e9f49a4cad4e98" name="a98a2c452a5e7053154e9f49a4cad4e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a2c452a5e7053154e9f49a4cad4e98">&#9670;&#160;</a></span>newline</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t newline[] =&quot;\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combinaison de caractères pour le saut de ligne. </p>

</div>
</div>
<a id="a6e309040b32e65b84b901684e4322808" name="a6e309040b32e65b84b901684e4322808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e309040b32e65b84b901684e4322808">&#9670;&#160;</a></span>pinList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pinList[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA8:   TIM1_C1     -&gt; CMD_R_TOP:   p13&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA11:  TIM1_C1N    -&gt; CMD_R_BOT:   p31&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA9:   TIM1_C2     -&gt; CMD_Y_TOP:   p12&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA12:  TIM1_C2N    -&gt; CMD_Y_BOT:   p30&quot;</span></div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;\r\nPC3:   ISO_RESET   -&gt; ISO_RESET:   p33&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA0:   ADC         -&gt; R_HALL:      p35&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\nPA15:  TIM2_C1     -&gt; R_VPH_SENSE  p24&quot;</span></div>
</div><!-- fragment -->
<p>Message d'affichage pour la liste des pins et leur équivalent sur le hacheur. </p>

</div>
</div>
<a id="a8b893859891afe33d4bba72ba06fd381" name="a8b893859891afe33d4bba72ba06fd381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b893859891afe33d4bba72ba06fd381">&#9670;&#160;</a></span>prompt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t prompt[] =&quot;\r\nuser@Nucleo-STM32G431&gt;&gt;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message de shell pour l'invite d'une commande. </p>

</div>
</div>
<a id="ae92fe315f431ba20b4268e3ad5ab7c3c" name="ae92fe315f431ba20b4268e3ad5ab7c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae92fe315f431ba20b4268e3ad5ab7c3c">&#9670;&#160;</a></span>redPhasePeriod1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t redPhasePeriod1 = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>temps haut et temps bas (indéterminé) de la phase Red en tick de HCLK </p>

</div>
</div>
<a id="a5c7c86076c8a225c26e2a15471ea90c5" name="a5c7c86076c8a225c26e2a15471ea90c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7c86076c8a225c26e2a15471ea90c5">&#9670;&#160;</a></span>redPhasePeriod2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t redPhasePeriod2 = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a835573497a60b314a9bf5a6fcac9602a" name="a835573497a60b314a9bf5a6fcac9602a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a835573497a60b314a9bf5a6fcac9602a">&#9670;&#160;</a></span>started</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t started[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        <span class="stringliteral">&quot;\r\n*-----------------------------*&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\n| Welcome on Nucleo-STM32G431 |&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\n*-----------------------------*&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\r\n&quot;</span></div>
</div><!-- fragment -->
<p>Message de démarage du shell. </p>

</div>
</div>
<a id="a2542ac6d4440b9e1c4a6435c55c79df3" name="a2542ac6d4440b9e1c4a6435c55c79df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2542ac6d4440b9e1c4a6435c55c79df3">&#9670;&#160;</a></span>uartRxBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uartRxBuffer[<a class="el" href="main_8c.html#a5bdd6772c246436bb14377095de79b31">UART_RX_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer de caractères pour la réception de données via l'UART. </p>

</div>
</div>
<a id="a9d8a518124b90c249458a5b30ab36c52" name="a9d8a518124b90c249458a5b30ab36c52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8a518124b90c249458a5b30ab36c52">&#9670;&#160;</a></span>uartRxReceived</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uartRxReceived</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag mis à 1 à la réception d'un caractère sur la liaison UART. </p>

</div>
</div>
<a id="a3f98e2db2fa0d8f0cfd87b887576207f" name="a3f98e2db2fa0d8f0cfd87b887576207f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f98e2db2fa0d8f0cfd87b887576207f">&#9670;&#160;</a></span>uartTxBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uartTxBuffer[<a class="el" href="main_8c.html#a05f5d709605c6317c97e4974bec3402a">UART_TX_BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer de caractères pour l'envoi de données via l'UART. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
